<!DOCTYPE html>
<html lang="en">

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>test</title>
    
</head>

<body>
  <script charset="utf-8" src="https://static.line-scdn.net/liff/edge/2/sdk.js"></script>

  <button onclick="line_connect()">LINE ID連携(外部ページ)</button><br>
  <a href="https://lin.ee/qlp1hqS"><img src="https://scdn.line-apps.com/n/line_add_friends/btn/ja.png" alt="友だち追加" height="36" border="0"></a>

  <p id="idToken_text">idToken</p><br>
  <p id="accessToken_text">accessToken</p>

  <script>
    function line_connect(){
      liff.init({
      liffId: '2002036154-XaAJJnLO', // Use own liffId
      })
      .then(() => {
          // start to use LIFF's api
          const idToken = liff.getIDToken();
          const accessToken = liff.getAccessToken();

          const idToken_text = document.getElementById('idToken_text');
          idToken_text.innerHTML = idToken;
          const accessToken_text = document.getElementById('accessToken_text');
          accessToken_text.innerHTML = accessToken;

          // openWindow call
          liff.openWindow({
            url: 'https://furukawa-sis.github.io/line_test_sample/out.html?idToken=' + idToken + '&accessToken=' + accessToken,
            external: true,
          });
      })
      .catch((err) => {
          console.log(err);
      });
    }

    


  </script>
</body>

</html>